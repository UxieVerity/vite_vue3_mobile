import{e as Y,j as q,D as U,ae as Q,Q as me,r as Z,s as h,z as ee,G as k,aK as we,aL as be,b6 as xe,al as te,am as ye,aO as Se,an as Pe,aF as Te,T as $e,k as b,t as p,y as z,v as M,J as O,aJ as F,q as ae,W as Ce,_ as L,w as G,x as ne,R as V,b7 as pe,f as Ie,a2 as Re,a3 as _e,b8 as ke,l as ze,a5 as Be,I as Ee}from"./plugins-libs-4a048428.js";const[ie,D]=Y("swipe"),Oe={loop:p,width:z,height:z,vertical:Boolean,autoplay:M(0),duration:M(500),touchable:p,lazyRender:Boolean,initialSwipe:M(0),indicatorColor:String,showIndicators:p,stopPropagation:p},oe=Symbol(ie);var De=q({name:ie,props:Oe,emits:["change","dragStart","dragEnd"],setup(e,{emit:r,slots:u}){const c=U(),g=U(),t=Q({rect:null,width:0,height:0,offset:0,active:0,swiping:!1});let P=!1;const v=me(),{children:x,linkChildren:d}=Z(oe),n=h(()=>x.length),i=h(()=>t[e.vertical?"height":"width"]),o=h(()=>e.vertical?v.deltaY.value:v.deltaX.value),m=h(()=>t.rect?(e.vertical?t.rect.height:t.rect.width)-i.value*n.value:0),y=h(()=>i.value?Math.ceil(Math.abs(m.value)/i.value):n.value),T=h(()=>n.value*i.value),S=h(()=>(t.active+n.value)%n.value),B=h(()=>{const a=e.vertical?"vertical":"horizontal";return v.direction.value===a}),ce=h(()=>{const a={transitionDuration:`${t.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${t.offset}px)`};if(i.value){const l=e.vertical?"height":"width",s=e.vertical?"width":"height";a[l]=`${T.value}px`,a[s]=e[s]?`${e[s]}px`:""}return a}),re=a=>{const{active:l}=t;return a?e.loop?L(l+a,-1,n.value):L(l+a,0,y.value):l},W=(a,l=0)=>{let s=a*i.value;e.loop||(s=Math.min(s,-m.value));let w=l-s;return e.loop||(w=L(w,m.value,0)),w},$=({pace:a=0,offset:l=0,emitChange:s})=>{if(n.value<=1)return;const{active:w}=t,f=re(a),_=W(f,l);if(e.loop){if(x[0]&&_!==m.value){const N=_<m.value;x[0].setOffset(N?T.value:0)}if(x[n.value-1]&&_!==0){const N=_>0;x[n.value-1].setOffset(N?-T.value:0)}}t.active=f,t.offset=_,s&&f!==w&&r("change",S.value)},E=()=>{t.swiping=!0,t.active<=-1?$({pace:n.value}):t.active>=n.value&&$({pace:-n.value})},ue=()=>{E(),v.reset(),O(()=>{t.swiping=!1,$({pace:-1,emitChange:!0})})},X=()=>{E(),v.reset(),O(()=>{t.swiping=!1,$({pace:1,emitChange:!0})})};let H;const I=()=>clearTimeout(H),R=()=>{I(),+e.autoplay>0&&n.value>1&&(H=setTimeout(()=>{X(),R()},+e.autoplay))},C=(a=+e.initialSwipe)=>{if(!c.value)return;const l=()=>{var s,w;if(!F(c)){const f={width:c.value.offsetWidth,height:c.value.offsetHeight};t.rect=f,t.width=+((s=e.width)!=null?s:f.width),t.height=+((w=e.height)!=null?w:f.height)}n.value&&(a=Math.min(n.value-1,a),a===-1&&(a=n.value-1)),t.active=a,t.swiping=!0,t.offset=W(a),x.forEach(f=>{f.setOffset(0)}),R()};F(c)?ae().then(l):l()},K=()=>C(t.active);let j;const de=a=>{!e.touchable||a.touches.length>1||(v.start(a),P=!1,j=Date.now(),I(),E())},ve=a=>{e.touchable&&t.swiping&&(v.move(a),B.value&&(!e.loop&&(t.active===0&&o.value>0||t.active===n.value-1&&o.value<0)||(Ce(a,e.stopPropagation),$({offset:o.value}),P||(r("dragStart",{index:S.value}),P=!0))))},J=()=>{if(!e.touchable||!t.swiping)return;const a=Date.now()-j,l=o.value/a;if((Math.abs(l)>.25||Math.abs(o.value)>i.value/2)&&B.value){const w=e.vertical?v.offsetY.value:v.offsetX.value;let f=0;e.loop?f=w>0?o.value>0?-1:1:0:f=-Math[o.value>0?"ceil":"floor"](o.value/i.value),$({pace:f,emitChange:!0})}else o.value&&$({pace:0});P=!1,t.swiping=!1,r("dragEnd",{index:S.value}),R()},fe=(a,l={})=>{E(),v.reset(),O(()=>{let s;e.loop&&a===n.value?s=t.active===0?0:a:s=a%n.value,l.immediate?O(()=>{t.swiping=!1}):t.swiping=!1,$({pace:s-t.active,emitChange:!0})})},he=(a,l)=>{const s=l===S.value,w=s?{backgroundColor:e.indicatorColor}:void 0;return b("i",{style:w,class:D("indicator",{active:s})},null)},ge=()=>{if(u.indicator)return u.indicator({active:S.value,total:n.value});if(e.showIndicators&&n.value>1)return b("div",{class:D("indicators",{vertical:e.vertical})},[Array(n.value).fill("").map(he)])};return ee({prev:ue,next:X,state:t,resize:K,swipeTo:fe}),d({size:i,props:e,count:n,activeIndicator:S}),k(()=>e.initialSwipe,a=>C(+a)),k(n,()=>C(t.active)),k(()=>e.autoplay,R),k([we,be,()=>e.width,()=>e.height],K),k(xe(),a=>{a==="visible"?R():I()}),te(C),ye(()=>C(t.active)),Se(()=>C(t.active)),Pe(I),Te(I),$e("touchmove",ve,{target:g}),()=>{var a;return b("div",{ref:c,class:D()},[b("div",{ref:g,style:ce.value,class:D("track",{vertical:e.vertical}),onTouchstartPassive:de,onTouchend:J,onTouchcancel:J},[(a=u.default)==null?void 0:a.call(u)]),ge()])}}});const He=G(De),[Ae,Me]=Y("swipe-item");var Ye=q({name:Ae,setup(e,{slots:r}){let u;const c=Q({offset:0,inited:!1,mounted:!1}),{parent:g,index:t}=ne(oe);if(!g)return;const P=h(()=>{const d={},{vertical:n}=g.props;return g.size.value&&(d[n?"height":"width"]=`${g.size.value}px`),c.offset&&(d.transform=`translate${n?"Y":"X"}(${c.offset}px)`),d}),v=h(()=>{const{loop:d,lazyRender:n}=g.props;if(!n||u)return!0;if(!c.mounted)return!1;const i=g.activeIndicator.value,o=g.count.value-1,m=i===0&&d?o:i-1,y=i===o&&d?0:i+1;return u=t.value===i||t.value===m||t.value===y,u}),x=d=>{c.offset=d};return te(()=>{ae(()=>{c.mounted=!0})}),ee({setOffset:x}),()=>{var d;return b("div",{class:Me(),style:P.value},[v.value?(d=r.default)==null?void 0:d.call(r):null])}}});const Ke=G(Ye),[se,qe]=Y("grid"),Ge={square:Boolean,center:p,border:p,gutter:z,reverse:Boolean,iconSize:z,direction:String,clickable:Boolean,columnNum:M(4)},le=Symbol(se);var Ne=q({name:se,props:Ge,setup(e,{slots:r}){const{linkChildren:u}=Z(le);return u({props:e}),()=>{var c;return b("div",{style:{paddingLeft:V(e.gutter)},class:[qe(),{[pe]:e.border&&!e.gutter}]},[(c=r.default)==null?void 0:c.call(r)])}}});const je=G(Ne),[Le,A]=Y("grid-item"),Ve=Ie({},Re,{dot:Boolean,text:String,icon:String,badge:z,iconColor:String,iconPrefix:String,badgeProps:Object});var We=q({name:Le,props:Ve,setup(e,{slots:r}){const{parent:u,index:c}=ne(le),g=_e();if(!u)return;const t=h(()=>{const{square:n,gutter:i,columnNum:o}=u.props,m=`${100/+o}%`,y={flexBasis:m};if(n)y.paddingTop=m;else if(i){const T=V(i);y.paddingRight=T,c.value>=+o&&(y.marginTop=T)}return y}),P=h(()=>{const{square:n,gutter:i}=u.props;if(n&&i){const o=V(i);return{right:o,bottom:o,height:"auto"}}}),v=()=>{if(r.icon)return b(Be,ze({dot:e.dot,content:e.badge},e.badgeProps),{default:r.icon});if(e.icon)return b(Ee,{dot:e.dot,name:e.icon,size:u.props.iconSize,badge:e.badge,class:A("icon"),color:e.iconColor,badgeProps:e.badgeProps,classPrefix:e.iconPrefix},null)},x=()=>{if(r.text)return r.text();if(e.text)return b("span",{class:A("text")},[e.text])},d=()=>r.default?r.default():[v(),x()];return()=>{const{center:n,border:i,square:o,gutter:m,reverse:y,direction:T,clickable:S}=u.props,B=[A("content",[T,{center:n,square:o,reverse:y,clickable:S,surround:i&&m}]),{[ke]:i}];return b("div",{class:[A({square:o})],style:t.value},[b("div",{role:S?"button":void 0,class:B,style:P.value,tabindex:S?0:void 0,onClick:g},[d()])])}}});const Je=G(We);export{Je as G,He as S,Ke as a,je as b};
