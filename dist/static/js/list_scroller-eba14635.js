import{a7 as x,aw as y,x as k,r as b,ae as w,ao as B,s as g,ax as p,q as C,aV as R,aW as S,a as N,a9 as m,aq as D,ar as I,p as L,ai as f,at as P,o as u,k as h,ac as n,N as T,a8 as F,ab as _,I as K}from"./plugins-libs-4a048428.js";import{B as V}from"./BigList-5f27504a.js";import"./use-tab-status-bbec0545.js";const q={name:"list_scroller",components:{PageRoot:y,BigList:V},props:["relationKey"],setup(t,s){const o=D(),{parent:r}=k(t.relationKey),i=Symbol("message-relation-Symbol"),{linkChildren:e}=b(i),l=function(){};e({calledByChild:l});const c=I("i18n_t"),d=w({nav:B.config({show:!0,clickable:!0,leftArrow:!1,placeholder:!0,title:g(()=>c("main.nav.title")),leftText:g(()=>c("main.nav.leftText")),clickLeft:function(){return!0},rightText:"关闭data",clickRight:function(){return o.goBack(-1,{data:"backfrom list-scroller 222"}),!1}})});return L("navParams",d),{parent:r,navDef:d,i18n_t:c,myRelationKey:i,calledByChild:l}},data(){return{items:{datas:[]},config:{mode:"scroller",rowHeight:54,heigthDependencies:["message"]}}},created(){},mounted(){history.state.data&&p({type:"danger",message:JSON.stringify(history.state.data)}),this.init()},activated(){let t=history.state.goBackResult||this.$route.params.goBackResult;t&&p({type:"danger",message:JSON.stringify(t)}),this.init()},deactivated(){},beforeUnmount(){},methods:{init(){C(async()=>{await this.load(null,!0)})},rowClick(t){t.index==0&&this.$router.push({name:"data_trans",state:{data:{userId:"123",from:"list_van 发送"}}})},async load(t,s){let o=!1,r=0,i=20;s||(this.items.datas.length%i==0?r=this.items.datas.length/i:o=!0);let e=await R.Get({page:r,pageSize:20},"/api-dev/list/get").catch(l=>{});s&&(this.items.datas=[]),e&&e.code==200&&(this.items.datas.push(...e.data.datas),e.data.datas.length<20&&(o=!0)),S.isFunction(t)&&t({isFinished:o})}}},z=["onClick"],A={class:"avatar"},H={style:{width:"60px",height:"60px"}},J={style:{display:"flex","flex-direction":"column",color:"red",flex:"1","margin-left":"10px"}},O={style:{"padding-bottom":"5px"}},$={style:{color:"black"}};function j(t,s,o,r,i,e){const l=K,c=f("big-list"),d=f("page-root"),v=P("prlx");return u(),N(d,{pageScroll:!1},{left:m(()=>[h(l,{name:"manager"})]),body:m(()=>[h(c,{ref:"bigListRef",autoHeight:"",config:i.config,items:i.items.datas,onLoad:s[0]||(s[0]=a=>e.load(a,!1)),onReload:s[1]||(s[1]=a=>e.load(a,!0))},{cell:m(({scope:a})=>[n("div",{class:"van-hairline--bottom",style:{display:"flex","flex-direction":"row",padding:"8px 10px"},onClick:E=>e.rowClick(a)},[n("div",A,[n("div",H,[T((u(),F("img",{style:{width:"60px",height:"60px"},class:"icon",key:"avatar_"+a.index})),[[v,{speed:10.12,fromBottom:!0,custom:!0},void 0,{mobile:!0,background:!0}]])])]),n("div",J,[n("span",O,_(a.index+" "+a.data.title)+"只在van-image中使用 --aspect-ratio ",1),n("span",$,_(a.data.message)+"只在van-image中使用 --aspect-ratio ",1)])],8,z)]),_:1},8,["config","items"])]),_:1})}const M=x(q,[["render",j]]);export{M as default};
