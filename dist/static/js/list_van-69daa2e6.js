import{a7 as y,aw as x,x as k,r as b,ae as w,ao as B,s as p,a4 as C,ax as f,q as R,aV as S,aW as N,a as D,a9 as m,aq as I,ar as L,p as P,ai as g,at as T,o as u,k as h,ac as n,N as F,a8 as K,ab as _,I as V}from"./plugins-libs-4a048428.js";import{B as q}from"./BigList-5f27504a.js";import"./use-tab-status-bbec0545.js";const z={name:"list_van",components:{PageRoot:x,BigList:q},props:["relationKey"],setup(t,a){const o=I(),{parent:r}=k(t.relationKey),s=Symbol("message-relation-Symbol"),{linkChildren:e}=b(s),l=function(){};e({calledByChild:l});const c=L("i18n_t"),d=w({nav:B.config({show:!0,clickable:!0,leftArrow:!1,placeholder:!0,title:p(()=>c("main.nav.title")),leftText:p(()=>c("main.nav.leftText")),clickLeft:function(){return!0},rightText:"关闭data",clickRight:function(){return o.goBack(-1,{data:"backfrom list-van 333"}),!1}})});return P("navParams",d),{parent:r,navDef:d,i18n_t:c,myRelationKey:s,calledByChild:l}},data(){return{items:{datas:[]},config:{mode:"vant"}}},created(){},mounted(){C().type.name,history.state.data&&f({type:"danger",message:JSON.stringify(history.state.data)}),this.init()},activated(){let t=history.state.goBackResult||this.$route.params.goBackResult;t&&f({type:"danger",message:JSON.stringify(t)}),this.init()},deactivated(){},beforeUnmount(){},methods:{init(){R(async()=>{this.config.mode!="vant"&&await this.load(null,!0)})},rowClick(t){t.index==0&&this.$router.push({name:"data_trans",state:{data:{userId:"123",from:"list_van 发送"}}})},async load(t,a){let o=!1,r=0,s=20;a||(this.items.datas.length%s==0?r=this.items.datas.length/s:o=!0);let e=await S.Get({page:r,pageSize:20},"/api-dev/list/get").catch(l=>{});a&&(this.items.datas=[]),e.code==200&&(this.items.datas.push(...e.data.datas),e.data.datas.length<20&&(o=!0)),N.isFunction(t)&&t({isFinished:o})}}},A=["onClick"],J={class:"avatar"},O={style:{width:"60px",height:"60px"}},$={style:{display:"flex","flex-direction":"column",color:"red",flex:"1","margin-left":"10px"}},j={style:{"padding-bottom":"5px"}},E={style:{color:"black"}};function G(t,a,o,r,s,e){const l=V,c=g("big-list"),d=g("page-root"),v=T("prlx");return u(),D(d,{pageScroll:!0},{left:m(()=>[h(l,{name:"manager"})]),body:m(()=>[h(c,{ref:"bigListRef",config:s.config,items:s.items.datas,onLoad:a[0]||(a[0]=i=>e.load(i,!1)),onReload:a[1]||(a[1]=i=>e.load(i,!0))},{cell:m(({scope:i})=>[n("div",{class:"van-hairline--bottom",style:{display:"flex","flex-direction":"row",padding:"8px 10px"},onClick:U=>e.rowClick(i)},[n("div",J,[n("div",O,[F((u(),K("img",{style:{width:"60px",height:"60px"},class:"icon",key:"avatar_"+i.index})),[[v,{speed:10.12,fromBottom:!0,custom:!0},void 0,{mobile:!0,background:!0}]])])]),n("div",$,[n("span",j,_(i.data.title)+"只在van-image中使用 --aspect-ratio ",1),n("span",E,_(i.data.message)+"只在van-image中使用 --aspect-ratio ",1)])],8,A)]),_:1},8,["config","items"])]),_:1})}const Q=y(z,[["render",G]]);export{Q as default};
