import{e3 as m,au as w,X as x,a7 as d,H as p,$ as b,av as y,ax as N}from"./SeriesDataSchema-e01fbb85.js";function B(e,t){var a=e.mapDimensionsAll("defaultedLabel"),n=a.length;if(n===1){var r=m(e,t,a[0]);return r!=null?r+"":null}else if(n){for(var i=[],l=0;l<a.length;l++)i.push(m(e,t,a[l]));return i.join(" ")}}function R(e,t){var a=e.mapDimensionsAll("defaultedLabel");if(!w(t))return t+"";for(var n=[],r=0;r<a.length;r++){var i=e.getDimensionIndex(a[r]);i>=0&&n.push(t[i])}return n.join(" ")}function j(e,t){return e.type===t}function P(e,t,a,n,r){var i=e.getArea(),l=i.x,v=i.y,s=i.width,h=i.height,f=a.get(["lineStyle","width"])||2;l-=f/2,v-=f/2,s+=f,h+=f,l=Math.floor(l),s=Math.round(s);var u=new x({shape:{x:l,y:v,width:s,height:h}});if(t){var c=e.getBaseAxis(),g=c.isHorizontal(),o=c.inverse;g?(o&&(u.shape.x+=s),u.shape.width=0):(o||(u.shape.y+=h),u.shape.height=0);var D=y(r)?function(A){r(A,u)}:null;d(u,{shape:{width:s,height:h,x:l,y:v}},a,null,n,D)}return u}function S(e,t,a){var n=e.getArea(),r=p(n.r0,1),i=p(n.r,1),l=new b({shape:{cx:p(e.cx,1),cy:p(e.cy,1),r0:r,r:i,startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});if(t){var v=e.getBaseAxis().dim==="angle";v?l.shape.endAngle=n.startAngle:l.shape.r=r,d(l,{shape:{endAngle:n.endAngle,r:i}},a)}return l}function k(e,t,a,n,r){if(e){if(e.type==="polar")return S(e,t,a);if(e.type==="cartesian2d")return P(e,t,a,n,r)}else return null;return null}var C={average:function(e){for(var t=0,a=0,n=0;n<e.length;n++)isNaN(e[n])||(t+=e[n],a++);return a===0?NaN:t/a},sum:function(e){for(var t=0,a=0;a<e.length;a++)t+=e[a]||0;return t},max:function(e){for(var t=-1/0,a=0;a<e.length;a++)e[a]>t&&(t=e[a]);return isFinite(t)?t:NaN},min:function(e){for(var t=1/0,a=0;a<e.length;a++)e[a]<t&&(t=e[a]);return isFinite(t)?t:NaN},nearest:function(e){return e[0]}},F=function(e){return Math.round(e.length/2)};function H(e){return{seriesType:e,reset:function(t,a,n){var r=t.getData(),i=t.get("sampling"),l=t.coordinateSystem,v=r.count();if(v>10&&l.type==="cartesian2d"&&i){var s=l.getBaseAxis(),h=l.getOtherAxis(s),f=s.getExtent(),u=n.getDevicePixelRatio(),c=Math.abs(f[1]-f[0])*(u||1),g=Math.round(v/c);if(isFinite(g)&&g>1){i==="lttb"&&t.setData(r.lttbDownSample(r.mapDimension(h.dim),1/g));var o=void 0;N(i)?o=C[i]:y(i)&&(o=i),o&&t.setData(r.downSample(r.mapDimension(h.dim),1/g,o,F))}}}}}export{R as a,P as b,k as c,H as d,S as e,B as g,j as i};
